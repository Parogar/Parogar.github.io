<!DOCTYPE html>
<html lang="en">

<head>
    <title>CSC225 FINAL PROJECT!</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css?v=1" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js?v=1" defer></script>
</head>

<body class="d-flex flex-column justify-content-between align-items-center" style="height: 100vh;">

    <div class="text-bg-warning p-3 w-100 text-center">
        <b>LEAGUE OF LEGENDS!!!!</b>&emsp;<b>(Final Project by Kevin Weinberg for CSC 225)</b>
    </div>

    <div class="p-5 rounded-3 w-100" style="background-color:gold;">
        <h1 class="display-4 mb-0"><b>HERE ARE YOUR RECENTLY PLAYED MATCHES!</b></h1>
        <p class="lead mb-0">Let's see how ya did!</p>
    </div>


    <div class="bg-image w-100 d-flex flex-column justify-content-start align-items-center"
        style="background-image: url('Kayle_lol.webp'); background-size: cover; background-position: center; height: 100vh; padding-top: 5rem;">

        <div class="accordion w-50 p-3 rounded" id="accordionExample" style="background-color:transparent;">


        </div>
    </div>


</body>

</html>

<script type="text/javascript">
    var api_key;
    var player_name;
    var region;
    document.addEventListener("DOMContentLoaded", function () {
        Load_Player();
    });

    // Example custom function
    async function Load_Player() {
        const urlParams = new URLSearchParams(window.location.search);
        api_key = urlParams.get("api_key");
        player_name = urlParams.get("player_name");
        region = urlParams.get("region");
        var test_str = api_key + " " + player_name + " " + region;

        for (let i = 1; i <= 10; i++) {
            // Create the accordion item
            const accordionItem = `
                  <div class="accordion-item mb-4">
                <h2 class="accordion-header" id="heading${i}">
                    <button class="accordion-button collapsed" style="background-color:silver;" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapse${i}" aria-expanded="false" aria-controls="collapse${i}"
                        onclick="handleAccordionClick(${i})">
                        NO MATCH DATA FOUND!
                    </button>
                </h2>
                <div id="collapse${i}" class="accordion-collapse collapse" aria-labelledby="heading${i}">
                    <div class="accordion-body">
                        ERROR!!? PLEASE DOUBLE CHEECK YOUR SUMMONER NAME AND REGION
                    </div>
                </div>
            </div>`;
            // Append the accordion item to the container
            document.getElementById("accordionExample").innerHTML += accordionItem;
        }
         const proxyUrl = 'https://cors-anywhere.herokuapp.com/';
         const URL = "http://americas.api.riotgames.com/riot/account/v1/accounts/by-riot-id/" + player_name + "/" + region + "?api_key=" + api_key;
         const data = await fetch(URL);
         const Player_Object = await data.json();
         alert(Player_Object.);
    }

</script>